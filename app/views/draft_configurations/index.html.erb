<div class="container bg-light draft-configuration-index">
  <div class="row pt-3 draft-configuration-index">
    <div class="col-md-12 draft-configuration-index">
      <h4>PC構成リスト</h4>
    </div>
  </div>

  <!-- PC構成作成画面でのPCパーツの有無を判定。ない場合は300行以降を表示する。 -->
  <% if DraftConfiguration.exists?(user_id: current_user.id) %>
    <% if @cpu_draft.nil? %>
      <div class="row py-2 border draft-configuration-index__cpu">
        <div class="col-md-12 draft-configuration-index__cpu">
          <div class="draft-configuration-index__cpu">
            <% if @part_for_parts_links['cpu'].present? %>
              <%= link_to part_tag_parts_path(@part_for_parts_links['cpu'].id) do %>
                <div class="text-secondary ">CPUを追加しましょう</div>
              <% end %>
            <% else %>
              <div class="text-secondary ">CPUを追加しましょう</div>
            <% end %>
          </div>
        </div>
      </div>
    <% else %>
      <div class="row py-2 border draft-configuration-index__cpu">
        <div class="col-md-8 my-1 text-left d-flex align-items-center justify-content-between draft-configuration-index__cpu__image">
          <span>
            <%= image_tag @cpu_draft.part.image, size: "40x40", :alt => "パーツ画像" %>
            <%= @cpu_draft.part.name %>
          </span>
          <span>¥<%= @cpu_draft.part.price.to_s(:delimited) %></span>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__cpu__quantity">
          <%= form_with model: @cpu_draft do |f| %>
          <%= f.select :quantity, [["1", 1], ["2", 2], ["3", 3]] %>
          <%= f.submit "変更", class: "btn btn-sm btn-primary"%>
          <% end %>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__cpu__btn">
          <%= link_to "削除する", draft_configuration_path(@cpu_draft.id), class: "btn btn-sm btn-danger", method: :delete %>
        </div>
      </div>
    <% end %>

    <% if @memory_draft.nil? %>
      <div class="row py-2 border draft-configuration-index__memory">
        <div class="col-md-12 draft-configuration-index__memory">
          <div class="draft-configuration-index__memory">
            <% if @part_for_parts_links['memory'].present? %>
              <%= link_to part_tag_parts_path(@part_for_parts_links['memory'].id) do %>
                <div class="text-secondary ">メモリーを追加しましょう</div>
              <% end %>
            <% else %>
              <div class="text-secondary ">メモリーを追加しましょう</div>
            <% end %>
          </div>
        </div>
      </div>
    <% else %>
      <div class="row py-2 border draft-configuration-index__memory">
        <div class="col-md-8 my-1 text-left d-flex align-items-center justify-content-between draft-configuration-index__memory__image">
          <span>
            <%= image_tag @memory_draft.part.image, size: "40x40", :alt => "パーツ画像" %>
            <%= @memory_draft.part.name %>
          </span>
          <span>¥<%= @memory_draft.part.price.to_s(:delimited) %></span>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__memory__quantity">
          <%= form_with model: @memory_draft do |f| %>
          <%= f.select :quantity, [["1", 1], ["2", 2], ["3", 3]] %>
          <%= f.submit "変更", class: "btn btn-sm btn-primary"%>
          <% end %>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__memory__btn">
          <%= link_to "削除する", draft_configuration_path(@memory_draft.id), class: "btn btn-sm btn-danger", method: :delete %>
        </div>
      </div>
    <% end %>

    <% if @video_card_draft.nil? %>
      <div class="row py-2 border draft-configuration-index__gpu">
        <div class="col-md-12 draft-configuration-index__gpu">
          <div class="draft-configuration-index__gpu">
            <% if @part_for_parts_links['videoCard'].present? %>
              <%= link_to part_tag_parts_path(@part_for_parts_links['videoCard'].id) do %>
                <div class="text-secondary ">グラフィックボードを追加しましょう</div>
              <% end %>
            <% else %>
              <div class="text-secondary ">グラフィックボードを追加しましょう</div>
            <% end %>
          </div>
        </div>
      </div>
    <% else %>
      <div class="row py-2 border draft-configuration-index__gpu">
        <div class="col-md-8 my-1 text-left d-flex align-items-center justify-content-between draft-configuration-index__gpu__image">
          <span>
            <%= image_tag @video_card_draft.part.image, size: "40x40", :alt => "パーツ画像" %>
            <%= @video_card_draft.part.name %>
          </span>
          <span>¥<%= @video_card_draft.part.price.to_s(:delimited) %></span>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__gpu__quantity">
          <%= form_with model: @video_card_draft do |f| %>
          <%= f.select :quantity, [["1", 1], ["2", 2], ["3", 3]] %>
          <%= f.submit "変更", class: "btn btn-sm btn-primary"%>
          <% end %>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__gpu__btn">
          <%= link_to "削除する", draft_configuration_path(@video_card_draft.id), class: "btn btn-sm btn-danger", method: :delete %>
        </div>
      </div>
    <% end %>

    <% if @mother_board_draft.nil? %>
      <div class="row py-2 border draft-configuration-index__mb">
        <div class="col-md-12 draft-configuration-index__mb">
          <div class="draft-configuration-index__mb">
            <% if @part_for_parts_links['motherBoard'].present? %>
              <%= link_to part_tag_parts_path(@part_for_parts_links['motherBoard'].id) do %>
                <div class="text-secondary ">マザーボードを追加しましょう</div>
              <% end %>
            <% else %>
              <div class="text-secondary ">マザーボードを追加しましょう</div>
            <% end %>
          </div>
        </div>
      </div>
    <% else %>
      <div class="row py-2 border draft-configuration-index__mb">
        <div class="col-md-8 my-1 text-left d-flex align-items-center justify-content-between draft-configuration-index__mb__image">
          <span>
            <%= image_tag @mother_board_draft.part.image, size: "40x40", :alt => "パーツ画像" %>
            <%= @mother_board_draft.part.name %>
          </span>
          <span>¥<%= @mother_board_draft.part.price.to_s(:delimited) %></span>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__mb__quantity">
          <%= form_with model: @mother_board_draft do |f| %>
          <%= f.select :quantity, [["1", 1], ["2", 2], ["3", 3]] %>
          <%= f.submit "変更", class: "btn btn-sm btn-primary"%>
          <% end %>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__mb__btn">
          <%= link_to "削除する", draft_configuration_path(@mother_board_draft.id), class: "btn btn-sm btn-danger", method: :delete %>
        </div>
      </div>
    <% end %>

    <% if @cpu_cooler_draft.nil? %>
      <div class="row py-2 border draft-configuration-index__cooler">
        <div class="col-md-12 draft-configuration-index__cooler">
          <div class="draft-configuration-index__cooler">
            <% if @part_for_parts_links['cpuCooler'].present? %>
              <%= link_to part_tag_parts_path(@part_for_parts_links['cpuCooler'].id) do %>
                <div class="text-secondary ">CPUクーラーを追加しましょう</div>
              <% end %>
            <% else %>
              <div class="text-secondary ">CPUクーラーを追加しましょう</div>
            <% end %>
          </div>
        </div>
      </div>
    <% else %>
      <div class="row py-2 border draft-configuration-index__cooler">
        <div class="col-md-8 my-1 text-left d-flex align-items-center justify-content-between draft-configuration-index__cooler__image">
          <span>
            <%= image_tag @cpu_cooler_draft.part.image, size: "40x40", :alt => "パーツ画像" %>
            <%= @cpu_cooler_draft.part.name %>
          </span>
          <span>¥<%= @cpu_cooler_draft.part.price.to_s(:delimited) %></span>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__cooler__quantity">
          <%= form_with model: @cpu_cooler_draft do |f| %>
          <%= f.select :quantity, [["1", 1], ["2", 2], ["3", 3]] %>
          <%= f.submit "変更", class: "btn btn-sm btn-primary"%>
          <% end %>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__cooler__btn">
          <%= link_to "削除する", draft_configuration_path(@cpu_cooler_draft.id), class: "btn btn-sm btn-danger", method: :delete %>
        </div>
      </div>
    <% end %>

    <% if @pc_case_draft.nil? %>
      <div class="row py-2 border draft-configuration-index__case">
        <div class="col-md-12 draft-configuration-index__case">
          <div class="draft-configuration-index__case">
            <% if @part_for_parts_links['pcCase'].present? %>
              <%= link_to part_tag_parts_path(@part_for_parts_links['pcCase'].id) do %>
                <div class="text-secondary ">PCケースを追加しましょう</div>
              <% end %>
            <% else %>
              <div class="text-secondary ">PCケースを追加しましょう</div>
            <% end %>
          </div>
        </div>
      </div>
    <% else %>
      <div class="row py-2 border draft-configuration-index__case">
        <div class="col-md-8 my-1 text-left d-flex align-items-center justify-content-between draft-configuration-index__case__image">
          <span>
            <%= image_tag @pc_case_draft.part.image, size: "40x40", :alt => "パーツ画像" %>
            <%= @pc_case_draft.part.name %>
          </span>
          <span>¥<%= @pc_case_draft.part.price.to_s(:delimited) %></span>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__case__quantity">
          <%= form_with model: @pc_case_draft do |f| %>
          <%= f.select :quantity, [["1", 1], ["2", 2], ["3", 3]] %>
          <%= f.submit "変更", class: "btn btn-sm btn-primary"%>
          <% end %>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__case__btn">
          <%= link_to "削除する", draft_configuration_path(@pc_case_draft.id), class: "btn btn-sm btn-danger", method: :delete %>
        </div>
      </div>
    <% end %>

    <% if @power_supply_draft.nil? %>
      <div class="row py-2 border draft-configuration-index__power">
        <div class="col-md-12 draft-configuration-index__power">
          <div class="draft-configuration-index__power">
            <% if @part_for_parts_links['powerSupply'].present? %>
              <%= link_to part_tag_parts_path(@part_for_parts_links['powerSupply'].id) do %>
                <div class="text-secondary ">PC電源を追加しましょう</div>
              <% end %>
            <% else %>
              <div class="text-secondary ">PC電源を追加しましょう</div>
            <% end %>
          </div>
        </div>
      </div>
    <% else %>
      <div class="row py-2 border draft-configuration-index__power">
        <div class="col-md-8 my-1 text-left d-flex align-items-center justify-content-between draft-configuration-index__power__image">
          <span>
            <%= image_tag @power_supply_draft.part.image, size: "40x40", :alt => "パーツ画像" %>
            <%= @power_supply_draft.part.name %>
          </span>
          <span>¥<%= @power_supply_draft.part.price.to_s(:delimited) %></span>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__power__quantity">
          <%= form_with model: @power_supply_draft do |f| %>
          <%= f.select :quantity, [["1", 1], ["2", 2], ["3", 3]] %>
          <%= f.submit "変更", class: "btn btn-sm btn-primary"%>
          <% end %>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__power__btn">
          <%= link_to "削除する", draft_configuration_path(@power_supply_draft.id), class: "btn btn-sm btn-danger", method: :delete %>
        </div>
      </div>
    <% end %>

    <% if @ssd_draft.nil? %>
      <div class="row py-2 border draft-configuration-index__ssd">
        <div class="col-md-12 draft-configuration-index__ssd">
          <div class="draft-configuration-index__ssd">
            <% if @part_for_parts_links['ssd'].present? %>
              <%= link_to part_tag_parts_path(@part_for_parts_links['ssd'].id) do %>
                <div class="text-secondary ">SSDを追加しましょう</div>
              <% end %>
            <% else %>
              <div class="text-secondary ">SSDを追加しましょう</div>
            <% end %>
          </div>
        </div>
      </div>
    <% else %>
      <div class="row py-2 border draft-configuration-index__ssd">
        <div class="col-md-8 my-1 text-left d-flex align-items-center justify-content-between draft-configuration-index__ssd__image">
          <span>
            <%= image_tag @ssd_draft.part.image, size: "40x40", :alt => "パーツ画像" %>
            <%= @ssd_draft.part.name %>
          </span>
          <span>¥<%= @ssd_draft.part.price.to_s(:delimited) %></span>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__ssd__quantity">
          <%= form_with model: @ssd_draft do |f| %>
          <%= f.select :quantity, [["1", 1], ["2", 2], ["3", 3]] %>
          <%= f.submit "変更", class: "btn btn-sm btn-primary"%>
          <% end %>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__ssd__btn">
          <%= link_to "削除する", draft_configuration_path(@ssd_draft.id), class: "btn btn-sm btn-danger", method: :delete %>
        </div>
      </div>
    <% end %>

    <% if @hdd_draft.nil? %>
      <div class="row py-2 border draft-configuration-index__hdd">
        <div class="col-md-12 draft-configuration-index__hdd">
          <div class="draft-configuration-index__hdd">
            <% if @part_for_parts_links['hdd'].present? %>
              <%= link_to part_tag_parts_path(@part_for_parts_links['hdd'].id) do %>
                <div class="text-secondary ">HDDを追加しましょう</div>
              <% end %>
            <% else %>
              <div class="text-secondary ">HDDを追加しましょう</div>
            <% end %>
          </div>
        </div>
      </div>
    <% else %>
      <div class="row py-2 border draft-configuration-index__hdd">
        <div class="col-md-8 my-1 text-left d-flex align-items-center justify-content-between draft-configuration-index__hdd__image">
          <span>
            <%= image_tag @hdd_draft.part.image, size: "40x40", :alt => "パーツ画像" %>
            <%= @hdd_draft.part.name %>
          </span>
          <span>¥<%= @hdd_draft.part.price.to_s(:delimited) %></span>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__hdd__quantity">
          <%= form_with model: @hdd_draft do |f| %>
          <%= f.select :quantity, [["1", 1], ["2", 2], ["3", 3]] %>
          <%= f.submit "変更", class: "btn btn-sm btn-primary"%>
          <% end %>
        </div>
        <div class="col-md-2 my-1 d-flex align-items-center justify-content-center draft-configuration-index__hdd__btn">
          <%= link_to "削除する", draft_configuration_path(@hdd_draft.id), class: "btn btn-sm btn-danger", method: :delete %>
        </div>
      </div>
    <% end %>

      <div class="row pt-3 draft-configuration-index__sum">
        <div class="col-md-12 d-flex justify-content-center draft-configuration-index__sum">
          <div>PC構成リスト合計金額　¥<%= @sum_price.to_s(:delimited) %></div>
        </div>
      </div>
      <div class="row pt-3 draft-configuration-index__btn">
        <div class="col-md-12 d-flex justify-content-center mb-3 draft-configuration-index__btn">
          <div><%= link_to "PC構成リスト投稿画面へ進む", new_pc_configuration_path, class: "btn btn-success" %></div>
        </div>
      </div>

  <!-- PCパーツが一つも設定されていない場合は以下を表示する。-->
  <% else %>
    <div class="row pt-3 draft-configuration-index__none">
      <div class="col-md-12 d-flex justify-content-center draft-configuration-index__none">
        <h5>PC構成リストにパーツがありません。</h5>
      </div>
    </div>
    <div class="row pt-3 draft-configuration-index__none--btn">
      <div class="col-md-12 mb-3 d-flex justify-content-center draft-configuration-index__none--btn">
        <div><%= link_to "PCパーツを探す", parts_path, class: "btn btn-primary" %></div>
      </div>
    </div>
  <% end %>
</div>
